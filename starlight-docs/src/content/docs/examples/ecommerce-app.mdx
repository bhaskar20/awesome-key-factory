---
title: E-commerce Application
description: Example of using React Query Key Factory in an e-commerce application.
---

## Key Factory Setup

```typescript
const queryKeys = createKeyFactory('shop', {
  products: {
    all: () => [],
    byCategory: (params: { category: string }) => [params.category],
    byId: (params: { id: string }) => [params.id],
    search: (params: { query: string }) => ['search', params.query],
  },
  cart: {
    items: () => [],
    count: () => ['count'],
  },
  orders: {
    all: () => [],
    byId: (params: { id: string }) => [params.id],
    byStatus: (params: { status: string }) => [params.status],
  },
});
```

## Usage Examples

### Product Listing

```typescript
function ProductsByCategory({ category }: { category: string }) {
  const { data } = useQuery({
    queryKey: queryKeys.products.byCategory({ category }),
    queryFn: () => fetchProductsByCategory(category),
  });

  return (
    <div>
      {data?.map(product => (
        <ProductCard key={product.id} product={product} />
      ))}
    </div>
  );
}
```

### Product Search

```typescript
function ProductSearch({ query }: { query: string }) {
  const { data } = useQuery({
    queryKey: queryKeys.products.search({ query }),
    queryFn: () => searchProducts(query),
    enabled: query.length > 0,
  });

  return (
    <div>
      {data?.map(product => (
        <ProductCard key={product.id} product={product} />
      ))}
    </div>
  );
}
```

### Shopping Cart

```typescript
function Cart() {
  const { data: items } = useQuery({
    queryKey: queryKeys.cart.items({}),
    queryFn: fetchCartItems,
  });

  const { data: count } = useQuery({
    queryKey: queryKeys.cart.count({}),
    queryFn: fetchCartCount,
  });

  return (
    <div>
      <h2>Cart ({count})</h2>
      {/* ... */}
    </div>
  );
}
```
